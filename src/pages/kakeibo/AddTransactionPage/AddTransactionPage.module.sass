@use "sass:list"
@use "../../../styles/variables/aurora-theme" as *

// ==============================================
// 取引追加画面 - Aurora Glass テーマ
// ==============================================

// ==============================================
// コンテナ
// ==============================================
.container
  height: 100%
  display: flex
  flex-direction: column
  animation: fadeIn 0.3s ease

@keyframes fadeIn
  from
    opacity: 0
    transform: translateY(10px)
  to
    opacity: 1
    transform: translateY(0)

// ==============================================
// ヘッダー
// ==============================================
.header
  padding: 1.5rem 1.25rem 1rem
  display: flex
  align-items: center
  justify-content: space-between
  background: $glass-bg
  backdrop-filter: blur(10px)
  border-bottom: 1px solid $border-glass

.title
  font-size: 1.25rem
  font-weight: 700
  color: $text-primary

.typeToggle
  display: flex
  background: rgba(255, 255, 255, 0.05)
  border-radius: 0.75rem
  padding: 0.25rem
  border: 1px solid $border-glass

.typeButton
  padding: 0.5rem 1.25rem
  border-radius: 0.625rem
  font-size: 0.875rem
  font-weight: 600
  transition: all 0.25s ease
  background: transparent
  border: none
  color: $text-muted
  cursor: pointer

  &.expenseActive
    background: linear-gradient(135deg, $accent-pink, rgba(255, 107, 157, 0.8))
    color: $text-primary
    box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4)

  &.incomeActive
    background: linear-gradient(135deg, $accent-cyan, rgba(0, 217, 255, 0.8))
    color: $bg-deep
    box-shadow: 0 4px 15px rgba(0, 217, 255, 0.4)

// ==============================================
// 金額セクション（キーパッド上部）
// ==============================================
.amountSection
  padding: 0.75rem 1.5rem
  text-align: center
  border-bottom: 1px solid $border-glass

.amountLabel
  color: $text-muted
  font-size: 0.875rem
  margin-bottom: 0.5rem

.amountDisplay
  position: relative
  display: inline-flex
  align-items: center
  justify-content: center
  width: 100%

.currency
  font-size: 1.25rem
  font-weight: 700
  margin-right: 0.25rem

  &.expense
    color: $accent-pink
    text-shadow: 0 0 20px rgba(255, 107, 157, 0.5)

  &.income
    color: $accent-cyan
    text-shadow: 0 0 20px rgba(0, 217, 255, 0.5)

.amountInput
  width: auto
  min-width: 2rem
  max-width: 10rem
  text-align: center
  font-size: 1.75rem
  font-weight: 700
  letter-spacing: -0.02em
  background: transparent
  border: none
  padding: 0

  &:focus
    outline: none

  &.expense
    color: $accent-pink
    text-shadow: 0 0 30px rgba(255, 107, 157, 0.4)

    &::placeholder
      color: rgba(255, 107, 157, 0.3)

  &.income
    color: $accent-cyan
    text-shadow: 0 0 30px rgba(0, 217, 255, 0.4)

    &::placeholder
      color: rgba(0, 217, 255, 0.3)

// ==============================================
// カテゴリセクション
// ==============================================
.categorySection
  padding: 1.5rem 1.25rem 1rem
  flex: 1
  overflow-y: auto

.sectionLabel
  font-size: 0.75rem
  font-weight: 700
  color: $text-muted
  margin-bottom: 0.75rem
  text-transform: uppercase
  letter-spacing: 0.1em

.categoryGrid
  display: grid
  grid-template-columns: repeat(4, 1fr)
  gap: 0.625rem
  margin-bottom: 1.5rem

.categoryButton
  display: flex
  flex-direction: column
  align-items: center
  gap: 0.5rem
  padding: 0.75rem 0.5rem
  border-radius: 1rem
  transition: all 0.25s ease
  background: $glass-bg
  border: 1px solid transparent
  cursor: pointer

  &:hover
    background: $glass-bg-hover
    transform: translateY(-2px)

  &.selected
    background: rgba(139, 92, 246, 0.15)
    border-color: $accent-purple
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.2)

.categoryIcon
  width: 2.75rem
  height: 2.75rem
  border-radius: 0.875rem
  display: flex
  align-items: center
  justify-content: center
  transition: transform 0.2s ease

.categoryButton:hover .categoryIcon,
.categoryButton.selected .categoryIcon
  transform: scale(1.08)

.categoryName
  font-size: 0.6875rem
  font-weight: 500
  color: $text-muted
  text-align: center

.categoryButton.selected .categoryName
  color: $text-primary

// ==============================================
// メモセクション
// ==============================================
.noteSection
  margin-bottom: 1rem

.noteInput
  width: 100%
  background: $glass-bg
  border: 1px solid $border-glass
  border-radius: 0.875rem
  padding: 0.875rem 1rem
  font-size: 0.875rem
  color: $text-primary
  transition: all 0.2s ease

  &::placeholder
    color: $text-dim

  &:focus
    outline: none
    border-color: $accent-purple
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15)

// ==============================================
// キーパッドエリア
// ==============================================
.keypadArea
  margin-top: auto
  background: $glass-bg
  backdrop-filter: blur(10px)
  padding-bottom: 3rem

.submitSection
  padding: 0.75rem 1rem 0.5rem

.submitButton
  width: 100%
  padding: 1rem
  border-radius: 1rem
  color: $text-primary
  font-weight: 700
  font-size: 1rem
  letter-spacing: 0.05em
  transition: all 0.25s ease
  border: none
  cursor: pointer

  &:active
    transform: scale(0.98)

  &.disabled
    background: rgba(255, 255, 255, 0.1)
    color: $text-dim
    cursor: not-allowed
    box-shadow: none

  &.expenseButton
    background: linear-gradient(135deg, $accent-pink, rgba(255, 107, 157, 0.85))
    box-shadow: 0 4px 20px rgba(255, 107, 157, 0.4)

    &:hover:not(.disabled)
      box-shadow: 0 6px 25px rgba(255, 107, 157, 0.5)
      transform: translateY(-1px)

  &.incomeButton
    background: linear-gradient(135deg, $accent-cyan, rgba(0, 217, 255, 0.85))
    color: $bg-deep
    box-shadow: 0 4px 20px rgba(0, 217, 255, 0.4)

    &:hover:not(.disabled)
      box-shadow: 0 6px 25px rgba(0, 217, 255, 0.5)
      transform: translateY(-1px)
