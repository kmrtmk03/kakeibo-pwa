---
name: code_review
description: コードの品質、バグ、パフォーマンス、セキュリティなどをチェックするためのスキル
---

# Code Review Skill

このスキルは、コードの品質を高め、潜在的な問題を早期に発見するために使用します。

## レビューの観点

以下の観点に基づいてコードを確認してください。

1.  **機能性 (Functionality)**:
    - 仕様通りに動作するか？
    - エッジケースやエラーハンドリングは適切か？
    - 特に `useEffect` や非同期処理の依存関係、クリーンアップ処理は正しいか？
2.  **可読性と保守性 (Readability & Maintainability)**:
    - 変数名、関数名は意図を明確に表しているか？
    - 関数は単一の責任を持っているか？
    - コードの重複はないか？
    - 適切なコメント（特に複雑なロジックに対する日本語コメント）はあるか？
3.  **パフォーマンス (Performance)**:
    - 無駄な再レンダリングを防いでいるか（`memo`, `useMemo`, `useCallback` の適切な使用）？
    - 計算量の多い処理が頻繁に実行されていないか？
4.  **セキュリティ (Security)**:
    - XSSやインジェクションのリスクはないか？
    - ユーザー入力のバリデーションは適切か？
5.  **スタイルと規約 (Style & Conventions)**:
    - プロジェクトの既存のコードスタイルに沿っているか？
    - TypeScriptの型定義は適切か（`any` の乱用がないか）？

## レビュー手順

1.  `view_file` や `render_diffs` を使用して、対象のコードや変更差分を読み込みます。
2.  上記の観点に基づいて詳細にコードを分析します。
3.  問題が見つかった場合は、単に指摘するだけでなく、**なぜそれが問題なのか**という理由と、**具体的な修正コード**を提示します。

## 出力フォーマット

レビュー結果は以下のMarkdown形式で出力してください。

```markdown
## コードレビュー結果

### 概要
[変更内容やコードの全体的な品質に対する簡潔なサマリー]

### 詳細レビュー

#### 1. [ファイル名]

- **[行番号]**: [指摘内容の要約]
  - **問題点**: [何が問題なのか具体的かつ論理的に説明]
  - **改善案**:
    ```typescript
    // 修正コードの例
    ```
  - **重要度**: [高 / 中 / 低]

（複数のファイルがある場合は同様に繰り返す）

### 全体的なフィードバック
- [良かった点]
- [さらに改善できるかもしれない点（Optional）]
```

## 注意事項

- **常に日本語で**出力してください。
- 開発者を尊重し、**建設的かつ丁寧なトーン**でコメントしてください。
- 「良いコード」には積極的に称賛のコメントをしてください。
